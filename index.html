<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akshaya Milk Delivery - Complete Management System</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#10b981">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="milk-loader">
                <i class="fas fa-cow"></i>
                <div class="milk-stream"></div>
            </div>
            <h2>Akshaya Milk Delivery</h2>
            <p>Loading your delivery management system...</p>
        </div>
    </div>

    <!-- Authentication Screen -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-container">
            <div class="auth-header">
                <div class="logo">
                    <i class="fas fa-cow"></i>
                    <h1>Akshaya Milk</h1>
                </div>
                <p class="tagline">Complete Milk Delivery Management System</p>
            </div>

            <div class="auth-tabs">
                <button class="tab-btn active" data-tab="login">Login</button>
                <button class="tab-btn" data-tab="signup">Sign Up</button>
            </div>

            <div class="auth-forms">
                <!-- Login Form -->
                <form id="loginForm" class="auth-form active">
                    <div class="form-group">
                        <label>Email or Phone</label>
                        <input type="text" id="loginEmail" required placeholder="Enter email or phone number">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" required placeholder="Enter your password">
                    </div>
                    <div class="form-options">
                        <label class="checkbox">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Remember me
                        </label>
                        <a href="#" class="forgot-password">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary btn-large">
                        <i class="fas fa-sign-in-alt"></i>
                        Login to Dashboard
                    </button>
                    
                    <div class="demo-credentials">
                        <p><strong>Demo Accounts:</strong></p>
                        <p>Owner: owner@akshaya.com / any password</p>
                        <p>Agency: agency@akshaya.com / any password</p>
                        <p>Customer: customer@akshaya.com / any password</p>
                    </div>
                </form>

                <!-- Signup Form -->
                <form id="signupForm" class="auth-form">
                    <div class="role-selection">
                        <h4>Choose Your Role:</h4>
                        <div class="role-options">
                            <label class="role-option">
                                <input type="radio" name="role" value="owner" checked>
                                <div class="role-card">
                                    <i class="fas fa-crown"></i>
                                    <span>Business Owner</span>
                                </div>
                            </label>
                            <label class="role-option">
                                <input type="radio" name="role" value="agency">
                                <div class="role-card">
                                    <i class="fas fa-truck"></i>
                                    <span>Milk Agency</span>
                                </div>
                            </label>
                            <label class="role-option">
                                <input type="radio" name="role" value="customer">
                                <div class="role-card">
                                    <i class="fas fa-user"></i>
                                    <span>Customer</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="signupName" required placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="signupEmail" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="signupPhone" required placeholder="Enter your WhatsApp number">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="signupPassword" required placeholder="Create a strong password">
                    </div>
                    <div id="agencyFields" class="hidden">
                        <div class="form-group">
                            <label>Agency Name</label>
                            <input type="text" id="agencyName" placeholder="Enter your agency name">
                        </div>
                        <div class="form-group">
                            <label>Agency Address</label>
                            <textarea id="agencyAddress" placeholder="Enter your agency address"></textarea>
                        </div>
                    </div>
                    <div id="customerFields" class="hidden">
                        <div class="form-group">
                            <label>Delivery Address</label>
                            <textarea id="customerAddress" placeholder="Enter your delivery address"></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-large">
                        <i class="fas fa-user-plus"></i>
                        Create Account
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app-container hidden">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-left">
                <button class="burger-menu" id="burgerMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="nav-brand">
                    <i class="fas fa-cow"></i>
                    <span id="brandName">Akshaya Milk</span>
                </div>
            </div>
            
            <div class="nav-actions">
                <div class="subscription-status" id="subscriptionStatus"></div>
                <div class="user-menu">
                    <button class="user-btn" id="userMenuBtn">
                        <i class="fas fa-user"></i>
                        <span id="userName">User</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="user-dropdown hidden" id="userDropdown">
                        <a href="#" class="dropdown-item" data-action="profile">
                            <i class="fas fa-user-cog"></i>Profile
                        </a>
                        <a href="#" class="dropdown-item" data-action="subscription">
                            <i class="fas fa-crown"></i>Subscription
                        </a>
                        <a href="#" class="dropdown-item" data-action="support">
                            <i class="fas fa-headset"></i>Support
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" data-action="logout">
                            <i class="fas fa-sign-out-alt"></i>Logout
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Sidebar -->
        <div class="sidebar-overlay hidden" id="sidebarOverlay"></div>
        <aside class="sidebar hidden" id="sidebar">
            <div class="sidebar-header">
                <h3>Navigation</h3>
                <button class="close-sidebar" id="closeSidebar">&times;</button>
            </div>
            
            <div class="sidebar-content">
                <!-- Agency Info for Customers -->
                <div id="agencyInfo" class="agency-info hidden">
                    <div class="agency-header">
                        <div class="agency-logo-placeholder">
                            <i class="fas fa-store"></i>
                        </div>
                        <div>
                            <h4 id="agencyDisplayName">Agency Name</h4>
                            <span class="rating">
                                <i class="fas fa-star"></i>
                                <span id="agencyRating">4.5</span>
                            </span>
                        </div>
                    </div>
                    <div class="agency-details">
                        <p><i class="fas fa-map-marker-alt"></i> <span id="agencyLocation">Location</span></p>
                        <p><i class="fas fa-clock"></i> <span id="agencyExperience">2+ years</span> experience</p>
                        <p><i class="fas fa-users"></i> <span id="agencyCustomers">150+</span> happy customers</p>
                    </div>
                    <div class="owner-card">
                        <div class="owner-image-placeholder">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div>
                            <h5 id="ownerName">Owner Name</h5>
                            <p>Verified Business</p>
                        </div>
                    </div>
                </div>

                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" data-page="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    
                    <!-- Customer Navigation -->
                    <div id="customerNav" class="hidden">
                        <a href="#" class="nav-item" data-page="orders">
                            <i class="fas fa-shopping-basket"></i>
                            <span>My Orders</span>
                        </a>
                        <a href="#" class="nav-item" data-page="plans">
                            <i class="fas fa-calendar-check"></i>
                            <span>Manage Plan</span>
                        </a>
                        <a href="#" class="nav-item" data-page="location">
                            <i class="fas fa-map-marked-alt"></i>
                            <span>Delivery Location</span>
                        </a>
                        <a href="#" class="nav-item" data-page="payments">
                            <i class="fas fa-rupee-sign"></i>
                            <span>Payments</span>
                        </a>
                    </div>

                    <!-- Agency Navigation -->
                    <div id="agencyNav" class="hidden">
                        <a href="#" class="nav-item" data-page="customers">
                            <i class="fas fa-users"></i>
                            <span>Customers</span>
                        </a>
                        <a href="#" class="nav-item" data-page="deliveries">
                            <i class="fas fa-truck"></i>
                            <span>Deliveries</span>
                        </a>
                        <a href="#" class="nav-item" data-page="agency-plans">
                            <i class="fas fa-cog"></i>
                            <span>Plans & Pricing</span>
                        </a>
                        <a href="#" class="nav-item" data-page="branding">
                            <i class="fas fa-palette"></i>
                            <span>Brand Customization</span>
                        </a>
                        <a href="#" class="nav-item" data-page="products">
                            <i class="fas fa-seedling"></i>
                            <span>Organic Products</span>
                        </a>
                        <a href="#" class="nav-item" data-page="dairy">
                            <i class="fas fa-cheese"></i>
                            <span>Dairy Products</span>
                        </a>
                        <a href="#" class="nav-item" data-page="agency-payments">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Payments</span>
                        </a>
                    </div>

                    <!-- Owner Navigation -->
                    <div id="ownerNav" class="hidden">
                        <a href="#" class="nav-item" data-page="agencies">
                            <i class="fas fa-truck"></i>
                            <span>Agencies</span>
                        </a>
                        <a href="#" class="nav-item" data-page="revenue">
                            <i class="fas fa-chart-line"></i>
                            <span>Revenue</span>
                        </a>
                        <a href="#" class="nav-item" data-page="analytics">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analytics</span>
                        </a>
                        <a href="#" class="nav-item" data-page="subscriptions">
                            <i class="fas fa-crown"></i>
                            <span>Subscriptions</span>
                        </a>
                    </div>

                    <div class="nav-divider"></div>

                    <a href="#" class="nav-item" data-page="support">
                        <i class="fas fa-headset"></i>
                        <span>Support</span>
                    </a>
                </nav>
            </div>

            <!-- Footer for Agency -->
            <div id="agencyFooter" class="sidebar-footer hidden">
                <div class="powered-by">
                    <p>Powered by <span class="vini-link" id="viniSolutions">ViNi Business Solutions</span></p>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Owner Dashboard -->
            <div id="ownerDashboard" class="dashboard-page active">
                <div class="page-header">
                    <h1>Business Owner Dashboard</h1>
                    <p>Manage your Akshaya Milk platform and track performance</p>
                </div>

                <!-- Revenue Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>₹<span id="totalRevenue">0</span></h3>
                            <p>Total Revenue</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon agencies">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalAgencies">0</h3>
                            <p>Active Agencies</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon customers">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalCustomers">0</h3>
                            <p>Total Customers</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon conversion">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="conversionRate">0%</h3>
                            <p>Trial Conversion</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-btn" onclick="app.showPage('agencies')">
                            <i class="fas fa-truck"></i>
                            <span>Manage Agencies</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('revenue')">
                            <i class="fas fa-chart-bar"></i>
                            <span>View Reports</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('analytics')">
                            <i class="fas fa-analytics"></i>
                            <span>Analytics</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Agencies -->
                <div class="section">
                    <div class="section-header">
                        <h2>Recent Agencies</h2>
                        <button class="btn btn-primary" onclick="app.showPage('agencies')">
                            <i class="fas fa-eye"></i> View All
                        </button>
                    </div>
                    <div class="agencies-list" id="recentAgencies">
                        <!-- Agencies will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Agency Dashboard -->
            <div id="agencyDashboard" class="dashboard-page">
                <div class="page-header">
                    <h1>Agency Dashboard</h1>
                    <div class="trial-countdown" id="trialCountdown">
                        <i class="fas fa-clock"></i>
                        <span id="countdownText">5 days trial remaining</span>
                    </div>
                </div>

                <!-- Trial Alert -->
                <div id="trialAlert" class="alert alert-warning hidden">
                    <div class="alert-content">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>
                            <strong>Trial Ending Soon!</strong>
                            <p>Your free trial ends in <span id="trialDays">2</span> days. Subscribe now to continue uninterrupted service.</p>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="app.showSubscriptionModal()">Subscribe Now</button>
                </div>

                <!-- Agency Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon customers">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="agencyCustomers">0</h3>
                            <p>Total Customers</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon delivery">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayDeliveries">0</h3>
                            <p>Today's Deliveries</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>₹<span id="monthlyRevenue">0</span></h3>
                            <p>Monthly Revenue</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>₹<span id="pendingPayments">0</span></h3>
                            <p>Pending Payments</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-btn" onclick="app.showAddCustomerModal()">
                            <i class="fas fa-user-plus"></i>
                            <span>Add Customer</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('deliveries')">
                            <i class="fas fa-truck"></i>
                            <span>Manage Deliveries</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('agency-plans')">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Set Pricing</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('branding')">
                            <i class="fas fa-palette"></i>
                            <span>Customize Brand</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Customers -->
                <div class="section">
                    <div class="section-header">
                        <h2>Recent Customers</h2>
                        <button class="btn btn-primary" onclick="app.showPage('customers')">
                            <i class="fas fa-eye"></i> View All
                        </button>
                    </div>
                    <div class="customers-list" id="recentCustomers">
                        <!-- Customers will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Customer Dashboard -->
            <div id="customerDashboard" class="dashboard-page">
                <div class="page-header">
                    <h1>My Milk Deliveries</h1>
                    <p>Track your daily milk deliveries and payments</p>
                </div>

                <!-- Customer Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon delivery">
                            <i class="fas fa-milk-bottle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="customerDeliveries">0</h3>
                            <p>This Month</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon amount">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>₹<span id="customerAmount">0</span></h3>
                            <p>Monthly Bill</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>₹<span id="customerPending">0</span></h3>
                            <p>Pending Payment</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon packets">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="avgPackets">0</h3>
                            <p>Avg Packets/Day</p>
                        </div>
                    </div>
                </div>

                <!-- Current Plan -->
                <div class="section">
                    <div class="section-header">
                        <h2>Current Plan</h2>
                        <button class="btn btn-primary" onclick="app.showPage('plans')">
                            <i class="fas fa-edit"></i> Change Plan
                        </button>
                    </div>
                    <div class="plan-overview" id="currentPlanOverview">
                        <!-- Current plan details will be shown here -->
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-btn" onclick="app.showPage('orders')">
                            <i class="fas fa-shopping-basket"></i>
                            <span>View Orders</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('plans')">
                            <i class="fas fa-calendar-plus"></i>
                            <span>Change Plan</span>
                        </button>
                        <button class="action-btn" onclick="app.showPage('location')">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Update Location</span>
                        </button>
                        <button class="action-btn" onclick="app.showPaymentModal()">
                            <i class="fas fa-rupee-sign"></i>
                            <span>Make Payment</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Deliveries -->
                <div class="section">
                    <h2>Recent Deliveries</h2>
                    <div class="deliveries-list" id="recentDeliveries">
                        <!-- Deliveries will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Additional Pages will be loaded here dynamically -->
            <div id="pageContent"></div>
        </main>
    </div>

    <!-- All Modals -->
    <div id="modalsContainer"></div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>
